Αποθηκεύουμε σε ξεχωριστά αρχεία:
eshop.c (για το κατάστημα)
client.c (για τον πελάτη)

Χρησιμοποιούμε τον GCC για τη μεταγλώττιση:
gcc server.c -o server
gcc client.c -o client

Αρχικά εκτελούμε το κατάστημα:
./eshop
Έπειτα εκτελούμε τους πελάτες(έως 5):
./client
./client
./client
./client
./client


Ο server δημιουργεί έναν κατάλογο προϊόντων και δέχεται αιτήματα από πελάτες.
Κύρια λειτουργία του server
Αρχικοποιεί τα προϊόντα στη συνάρτηση init_catalog(), όπου κάθε προϊόν έχει περιγραφή, τιμή και αρχικό απόθεμα.
Δημιουργεί socket και το συνδέει στη θύρα 8080 για να ακούει εισερχόμενες συνδέσεις.
Δέχεται έως 5 πελάτες
Δημιουργεί child processes με fork() για να διαχειριστεί κάθε πελάτη ξεχωριστά.
Επεξεργάζεται παραγγελίες με τη συνάρτηση handle_order(), όπου:
Ελέγχει αν το προϊόν είναι διαθέσιμο.
Αν υπάρχει στοκ, το μειώνει και καταγράφει την πώληση.
Αν δεν υπάρχει στοκ, αποθηκεύει τον πελάτη στη λίστα μη εξυπηρετηθέντων.
Μετά την εξυπηρέτηση όλων των πελατών, εμφανίζει αναφορά πωλήσεων (print_report()).

Client
Κάθε πελάτης συνδέεται στον server και στέλνει παραγγελίες.
Κύρια λειτουργία του client
Συνδέεται στον server μέσω socket (connect()).
Επιλέγει τυχαία προϊόντα (rand() % 20) και στέλνει αιτήματα στον server.
Διαβάζει την απάντηση από τον server και εμφανίζει το μήνυμα επιβεβαίωσης ή απόρριψης.
Επαναλαμβάνει τη διαδικασία 10 φορές
Κλείνει τη σύνδεση μετά την αποστολή των παραγγελιών.

Συναρτήσεις Server:
void init_catalog()
Αρχικοποιεί τον κατάλογο των προϊόντων.
Ορίζει περιγραφή, τυχαία τιμή και αρχικό απόθεμα για κάθε προϊόν.

void handle_order(int client_sock, char *client_name)
Διαβάζει ένα ID προϊόντος από τον πελάτη.
Ελέγχει αν το προϊόν είναι διαθέσιμο.
Αν υπάρχει στοκ, μειώνει το απόθεμα και καταγράφει την πώληση.
Αν δεν υπάρχει στοκ, προσθέτει τον πελάτη στη λίστα των μη εξυπηρετηθέντων.
Στέλνει μήνυμα επιβεβαίωσης ή αποτυχίας στον πελάτη.

void print_report()
Εμφανίζει αναφορά πωλήσεων στο τέλος της εκτέλεσης.
Υπολογίζει συνολικά αιτήματα, επιτυχημένες πωλήσεις, αποτυχίες και συνολικά έσοδα.

int main()
Εκκινεί τον server, δημιουργεί socket και περιμένει συνδέσεις πελατών.
Για κάθε πελάτη, δημιουργεί νέα διεργασία (fork()) και διαχειρίζεται παραγγελίες.
Μετά την εξυπηρέτηση όλων των πελατών, τυπώνει την τελική αναφορά και τερματίζει.

Συναρτήσεις Client:
int main()
Δημιουργεί TCP socket και συνδέεται στον server.
Επιλέγει τυχαία προϊόντα και στέλνει 10 παραγγελίες στον server.
Διαβάζει την απάντηση και την εμφανίζει.
Κλείνει το socket και τερματίζει.
